<!DOCTYPE html>
<html>

<head>
	<title>Mintinis Skai&#x10D;iavimas</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Andika:wght@400;700&family=Josefin+Sans&display=swap"
		rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="index.css">

</head>

<body>
	<div class="container" id="template-container"
		style="display: flex; flex-direction: column; justify-content: space-between;" hidden>
		<div class="position-absolute image-container kid-5 bottom-0 end-0"
			style="top: 50%; left: 15%; width: 250px; height: 250px;"> <img src="images/kid-5.png"
				style="width: 100%; height: 100%;" class="img-fluid"> </div>
		<div class="position-absolute image-container kid-6 bottom-0 end-0"
			style="top: 35%; left: 68%; width: 250px; height: 250px;"> <img src="images/kid-6.png"
				style="width: 250px; height: auto;" class="img-fluid"> </div>
		<div class="row d-flex align-items-start">
			<div class="col-12 d-flex justify-content-center align-items-center text-center">
				<h1>Mintinis Skai&#x10D;iavimas</h1>
			</div>
		</div>
		<div class="row d-flex align-items-center justify-content-center text-center">
			<div class="col-12 d-flex justify-content-center align-items-center middle-div">
				<div class="row">
					<div class="d-flex flex-column align-items-center">
						<label class="mode-choice-label" for="mode_choice">PRAKTIKUOTIS</label>
						<div class="row d-flex justify-content-center align-items-center text-center mode_choice_div">
							<select class="btn btn-secondary dropdown-toggle dropdown dropdown-options" name="mode_choice"
								id="mode_choice">
								<option value="sudetis">SUD&#x116;T&#x12E;</option>
								<option value="atimtis">ATIMT&#x12E;</option>
								<option value="sudetis ir atimtis">SUD&#x116;T&#x12E; IR ATIMT&#x12E;</option>
								<option value="daugyba">DAUGYB&#x104;</option>
								<option value="dalyba">DALYB&#x104;</option>
								<option value="daugyba ir dalyba">DAUGYB&#x104; IR DALYB&#x104;</option>
								<option value="visi">VISUS</option>
							</select>
						</div>
						<div class="row">
							<div class="col-sm-12 empty-placeholder-between-options" id="empty-placeholder-top"></div>
						</div>
						<div class="row d-flex justify-content-center align-items-center text-center mode_choice_2_div">
							<div class="col-12 d-flex justify-content-center align-items-center mode_choice_2_div text-center"
								id="mode_choice_2_div">
								<select class="btn btn-secondary dropdown-toggle dropdown dropdown-options" name="mode_choice_2"
									id="mode_choice_2">
									<option value="viena10">VIENAŽENKLIŲ SKAIČIŲ IKI 10</option>
									<option value="viena">VIENAŽENKLIŲ SKAIČIŲ IKI 20 (LENTELINĖ SUDĖTIS)</option>
									<option value="dvivien20">DVIŽENKLIO IR VIENAŽENKLIO SKAIČIŲ IKI 20</option>
									<option value="dvivien">DVIŽENKLIO IR VIENAŽENKLIO SKAIČIŲ IKI 100</option>
									<option value="dvi">DVIŽENKLIŲ SKAIČIŲ IKI 100</option>
									<option value="tukst">SKAIČIŲ IKI 1000</option>
									<option value="dtukst">SKAIČIŲ IKI 10000</option>
								</select>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 empty-placeholder-between-options" id="placeholder-bottom"></div>
						</div>
						<div class="row">
							<div class="col-12 d-flex justify-content-center align-items-center number_choice_div text-center">
								<label class="number-choice-label-nuo" for="selected_number" id="number_label"
									style="display: none;">NUO</label>
								<select class="btn btn-secondary dropdown-toggle dropdown text-center" name="selected_number"
									id="selected_number" style="display: none;">
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
									<option value="10">10</option>
								</select>
								<label class="number-choice-label-iki" for="selected_number_2" id="number_label_2"
									style="display: none;">IKI</label>
								<select class="btn btn-secondary dropdown-toggle dropdown text-center" name="selected_number_2"
									id="selected_number_2" style="display: none;">
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
									<option value="10">10</option>
								</select>
							</div>
						</div>
						<div class="row d-flex justify-content-center align-items-center text-center mode_choice_3_div">
							<div
								class="col-12 d-flex justify-content-center align-items-center number_choice_div text-center mode_choice_3_div"
								id="mode_choice_3_div">
								<select class="btn btn-secondary dropdown-toggle dropdown text-center" name="mode_choice_3"
									id="mode_choice_3">
									<option value="neper">NEPERŽENGIANT DEŠIMTIES</option>
								</select>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 empty-placeholder-before-submit"></div>
						</div>
						<div class="row">
							<div class="col-12 d-flex justify-content-center align-items-center submit-button">
								<button class="btn btn-primary submit-button">Pirmyn!</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row d-flex align-items-end">
			<div class="col-12 d-flex justify-content-end align-items-end summary-button-div" style="display: inline-block;">
				<button class="btn btn-primary summary-button">Da&#x17E;niausios klaidos</button>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="mental-arithmetic.js"></script>
	<script src="mental-arithmetic-combinations.js"></script>

	<script>

		let modeChoiceElement = document.querySelector('#mode_choice');
		let numberLabel = document.querySelector('#number_label');
		let modeChoice2Element = document.querySelector('#mode_choice_2');
		let selectedNumberElement = document.querySelector('#selected_number');
		let numberLabel2 = document.querySelector('#number_label_2');
		let selectedNumber2Element = document.querySelector('#selected_number_2');
		let modeChoice3Element = document.querySelector('#mode_choice_3');
		let emptySpaceholder = document.querySelector('#placeholder-bottom');

		modeChoiceElement.addEventListener('change', function () {
			function toggleVisibility(element, isVisible) {
				if (isVisible) {
					element.style.display = 'block';
				} else {
					element.style.display = 'none';
				}
			}

			function handleModeChoiceChange() {
				let modeChoiceSelection = modeChoiceElement.value;
				let modeChoice2Selection = modeChoice2Element.value;
				if (
					(modeChoiceSelection === 'daugyba' && (modeChoice2Selection !== 'pil10' && modeChoice2Selection !== 'pil100')) || (modeChoiceSelection === 'dalyba' && (modeChoice2Selection !== 'pil10' && modeChoice2Selection !== 'pil100')) || (modeChoiceSelection === 'daugyba ir dalyba' && (modeChoice2Selection !== 'pil10' && modeChoice2Selection !== 'pil100'))) {
					toggleVisibility(numberLabel, true);
					toggleVisibility(selectedNumberElement, true);
					toggleVisibility(numberLabel2, true);
					toggleVisibility(selectedNumber2Element, true);
					toggleVisibility(modeChoice3Element, false);
					toggleVisibility(emptySpaceholder, true);
				} else if (modeChoiceSelection === 'sudetis' || modeChoiceSelection === 'atimtis' || modeChoiceSelection === 'sudetis ir atimtis') {
					toggleVisibility(numberLabel, false);
					toggleVisibility(selectedNumberElement, false);
					toggleVisibility(numberLabel2, false);
					toggleVisibility(selectedNumber2Element, false);
					toggleVisibility(modeChoice3Element, true);
					toggleVisibility(emptySpaceholder, true);
				} else {
					toggleVisibility(numberLabel, false);
					toggleVisibility(selectedNumberElement, false);
					toggleVisibility(numberLabel2, false);
					toggleVisibility(selectedNumber2Element, false);
					toggleVisibility(modeChoice3Element, false);
					toggleVisibility(emptySpaceholder, true);

				}
				if (modeChoiceSelection === 'visi') {
					toggleVisibility(modeChoice3Element, false);
					toggleVisibility(emptySpaceholder, false);
				}
			}
			modeChoiceElement.addEventListener('change', handleModeChoiceChange);
			modeChoice2Element.addEventListener('change', handleModeChoiceChange);
			handleModeChoiceChange();
		});

		function updateModeChoice2() {
			let modeChoiceSelection = modeChoiceElement.value;
			let modeChoice2Selection = modeChoice2Element.value;

			modeChoice2Element.innerHTML = "";

			if (modeChoiceSelection === "sudetis") {
				modeChoice2Element.innerHTML += '<option value="viena10">VIENAŽENKLIŲ SKAIČIŲ IKI 10</option>';
				modeChoice2Element.innerHTML += '<option value="viena">VIENAŽENKLIŲ SKAIČIŲ IKI 20 (LENTELINĖ SUDĖTIS)</option>';
				modeChoice2Element.innerHTML += '<option value="dvivien20">DVIŽENKLIO IR VIENAŽENKLIO SKAIČIŲ IKI 20</option>';
				modeChoice2Element.innerHTML += '<option value="dvivien">DVIŽENKLIO IR VIENAŽENKLIO SKAIČIŲ IKI 100</option>';
				modeChoice2Element.innerHTML += '<option value="dvi">DVIŽENKLIŲ SKAIČIŲ IKI 100</option>';
				modeChoice2Element.innerHTML += '<option value="tukst">SKAIČIŲ IKI 1000</option>';
				modeChoice2Element.innerHTML += '<option value="dtukst">SKAIČIŲ IKI 10000</option>';

			} else if (modeChoiceSelection === "atimtis") {
				modeChoice2Element.innerHTML += '<option value="viena10">VIENAŽENKLIŲ SKAIČIŲ IKI 10</option>';
				modeChoice2Element.innerHTML += '<option value="dvivien20">DVIŽENKLIO IR VIENAŽENKLIO SKAIČIŲ IKI 20</option>';
				modeChoice2Element.innerHTML += '<option value="dvivien">DVIŽENKLIO IR VIENAŽENKLIO SKAIČIŲ IKI 100</option>';
				modeChoice2Element.innerHTML += '<option value="dvi">DVIŽENKLIŲ SKAIČIŲ IKI 100</option>';
				modeChoice2Element.innerHTML += '<option value="tukst">SKAIČIŲ IKI 1000</option>';
				modeChoice2Element.innerHTML += '<option value="dtukst">SKAIČIŲ IKI 10000</option>';

			} else if (modeChoiceSelection === "sudetis ir atimtis") {
				modeChoice2Element.innerHTML += '<option value="viena10">VIENAŽENKLIŲ SKAIČIŲ IKI 10</option>';
				modeChoice2Element.innerHTML += '<option value="lent">LENTELINĖ SUDĖTIS IR ATIMTIS IKI 20</option>';
				modeChoice2Element.innerHTML += '<option value="dvivien20">DVIŽENKLIO IR VIENAŽENKLIO SKAIČIŲ IKI 20</option>';
				modeChoice2Element.innerHTML += '<option value="dvivien">DVIŽENKLIO IR VIENAŽENKLIO SKAIČIŲ IKI 100</option>';
				modeChoice2Element.innerHTML += '<option value="dvi">DVIŽENKLIŲ SKAIČIŲ IKI 100</option>';
				modeChoice2Element.innerHTML += '<option value="tukst">SKAIČIŲ IKI 1000</option>';
				modeChoice2Element.innerHTML += '<option value="dtukst">SKAIČIŲ IKI 10000</option>';

			} else if (modeChoiceSelection === "daugyba" || modeChoiceSelection === "dalyba" || modeChoiceSelection === "daugyba ir dalyba") {
				modeChoice2Element.innerHTML += '<option value="dauglent">DAUGYBOS LENTELĖ</option>';
				modeChoice2Element.innerHTML += '<option value="pil10">IŠ PILNŲ DEŠIMČIŲ</option>';
				modeChoice2Element.innerHTML += '<option value="pil100">IŠ PILNŲ ŠIMTŲ</option>';

			} else if (modeChoiceSelection === "visi") {
				modeChoice2Element.innerHTML += '<option value="iki10">IKI 10</option>';
				modeChoice2Element.innerHTML += '<option value="iki20">IKI 20</option>';
				modeChoice2Element.innerHTML += '<option value="iki100">IKI 100</option>';
				modeChoice2Element.innerHTML += '<option value="iki1000">IKI 1000</option>';
				modeChoice2Element.innerHTML += '<option value="iki10000">IKI 10000</option>';
			}
		}

		modeChoiceElement.addEventListener('change', updateModeChoice2);


		function updateModeChoice3() {
			let modeChoiceSelection = modeChoiceElement.value;
			let modeChoice2Selection = modeChoice2Element.value;

			modeChoice3Element.innerHTML = "";

			if (modeChoice2Selection === "viena" && modeChoiceSelection === "sudetis") {
				modeChoice3Element.innerHTML += '<option value="neper">PERŽENGIANT DEŠIMTĮ</option>';
			} else if (modeChoice2Selection === "viena" && modeChoiceSelection === "atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEIŠARDANT DEŠIMTIES</option>';
			} else if (modeChoice2Selection === "viena" && modeChoiceSelection === "sudetis ir atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEPERŽENGIANT/NEIŠARDANT DEŠIMTIES</option>';
				modeChoice3Element.innerHTML += '<option value="per10">PERŽENGIANT/IŠARDANT DEŠIMTĮ</option>';

			} else if (modeChoice2Selection === "lent" && modeChoiceSelection === "sudetis ir atimtis") {
				modeChoice3Element.innerHTML += '<option value="per10">PERŽENGIANT/IŠARDANT DEŠIMTĮ</option>';

			} else if (modeChoice2Selection === "viena10" && modeChoiceSelection === "sudetis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEPERŽENGIANT DEŠIMTIES</option>';
			} else if (modeChoice2Selection === "viena10" && modeChoiceSelection === "atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEIŠARDANT DEŠIMTIES</option>';
			} else if (modeChoice2Selection === "viena10" && modeChoiceSelection === "sudetis ir atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEPERŽENGIANT/NEIŠARDANT DEŠIMTIES</option>';

			} else if (modeChoice2Selection === "dvivien20" && modeChoiceSelection === "sudetis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEPERŽENGIANT DEŠIMTIES</option>';
			} else if (modeChoice2Selection === "dvivien20" && modeChoiceSelection === "atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEIŠARDANT DEŠIMTIES</option>';
				modeChoice3Element.innerHTML += '<option value="per10">IŠARDANT DEŠIMTĮ (LENTELINĖ ATIMTIS)</option>';
			} else if (modeChoice2Selection === "dvivien20" && modeChoiceSelection === "sudetis ir atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEPERŽENGIANT/NEIŠARDANT DEŠIMTIES</option>';

			} else if (modeChoice2Selection === "dvivien" && modeChoiceSelection === "sudetis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEPERŽENGIANT DEŠIMTIES</option>';
				modeChoice3Element.innerHTML += '<option value="per10">PERŽENGIANT DEŠIMTĮ</option>';
			} else if (modeChoice2Selection === "dvivien" && modeChoiceSelection === "atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEIŠARDANT DEŠIMTIES</option>';
				modeChoice3Element.innerHTML += '<option value="per10">IŠARDANT DEŠIMTĮ</option>';
			} else if (modeChoice2Selection === "dvivien" && modeChoiceSelection === "sudetis ir atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEPERŽENGIANT/NEIŠARDANT DEŠIMTIES</option>';
				modeChoice3Element.innerHTML += '<option value="per10">PERŽENGIANT/IŠARDANT DEŠIMTĮ</option>';

			} else if (modeChoice2Selection === "dvi" && modeChoiceSelection === "sudetis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEPERŽENGIANT DEŠIMTIES</option>';
				modeChoice3Element.innerHTML += '<option value="per10">PERŽENGIANT DEŠIMTĮ</option>';
			} else if (modeChoice2Selection === "dvi" && modeChoiceSelection === "atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEIŠARDANT DEŠIMTIES</option>';
				modeChoice3Element.innerHTML += '<option value="per10">IŠARDANT DEŠIMTĮ</option>';
			} else if (modeChoice2Selection === "dvi" && modeChoiceSelection === "sudetis ir atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEPERŽENGIANT/NEIŠARDANT DEŠIMTIES</option>';
				modeChoice3Element.innerHTML += '<option value="per10">PERŽENGIANT/IŠARDANT DEŠIMTĮ</option>';

			} else if (modeChoice2Selection === "tukst" && modeChoiceSelection === "sudetis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEPERŽENGIANT DEŠIMTIES/ŠIMTO</option>';
				modeChoice3Element.innerHTML += '<option value="per10">PERŽENGIANT DEŠIMTĮ/ŠIMTĄ</option>';
			} else if (modeChoice2Selection === "tukst" && modeChoiceSelection === "atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEIŠARDANT DEŠIMTIES/ŠIMTO</option>';
				modeChoice3Element.innerHTML += '<option value="per10">IŠARDANT DEŠIMTĮ/ŠIMTĄ</option>';
			} else if (modeChoice2Selection === "tukst" && modeChoiceSelection === "sudetis ir atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEPERŽENGIANT/NEIŠARDANT DEŠIMTIES/ŠIMTO</option>';
				modeChoice3Element.innerHTML += '<option value="per10">PERŽENGIANT/IŠARDANT DEŠIMTĮ/ŠIMTĄ</option>';

			} else if (modeChoice2Selection === "dtukst" && modeChoiceSelection === "sudetis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEPERŽENGIANT DEŠIMTIES/ŠIMTO/TŪKSTANČIO</option>';
				modeChoice3Element.innerHTML += '<option value="per10">PERŽENGIANT DEŠIMTĮ/ŠIMTĄ/TŪKSTANTĮ</option>';
			} else if (modeChoice2Selection === "dtukst" && modeChoiceSelection === "atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEIŠARDANT DEŠIMTIES/ŠIMTO/TŪKSTANČIO</option>';
				modeChoice3Element.innerHTML += '<option value="per10">IŠARDANT DEŠIMTĮ/ŠIMTĄ/TŪKSTANTĮ</option>';
			} else if (modeChoice2Selection === "dtukst" && modeChoiceSelection === "sudetis ir atimtis") {
				modeChoice3Element.innerHTML += '<option value="neper">NEPERŽENGIANT/NEIŠARDANT DEŠIMTIES/ŠIMTO/TŪKSTANČIO</option>';
				modeChoice3Element.innerHTML += '<option value="per10">PERŽENGIANT/IŠARDANT DEŠIMTĮ/ŠIMTĄ/TŪKSTANTĮ</option>';
			} else {
			}
		}

		modeChoiceElement.addEventListener('change', updateModeChoice3);
		modeChoice2Element.addEventListener('change', updateModeChoice3);

		function submitSelection() {
			if (localStorage.getItem('controller') !== null) {
				controller = JSON.parse(localStorage.getItem('controller'))
			}
			modeChoiceSelection = modeChoiceElement.value;
			modeChoice2Selection = modeChoice2Element.value;
			selectedNumbers = [selectedNumberElement.value, selectedNumber2Element.value].sort();
			modeChoice3Selection = modeChoice3Element.value;

			controller.modeChoice = modeChoiceSelection;
			controller.modeChoice2 = modeChoice2Selection;
			controller.selectedNumbers = selectedNumbers;
			controller.modeChoice3 = modeChoice3Selection;
			controller.result = ['', '', '', '', '']

			localStorage.setItem('controller', JSON.stringify(controller))
			redirectToIntermediate()


		}

		let submitButtonElement = document.querySelector('.submit-button');
		submitButtonElement.addEventListener("click", submitSelection);
		let summaryButtonElement = document.querySelector('.summary-button');
		summaryButtonElement.addEventListener("click", redirectToSummary);

		window.onload = function () {
			document.querySelector('#template-container').removeAttribute('hidden');
		};

		window.onload = function () {
			// Reset the selected options of the dropdowns
			modeChoiceElement.selectedIndex = 0;
			modeChoice2Element.selectedIndex = 0;
			selectedNumberElement.selectedIndex = 0;
			selectedNumber2Element.selectedIndex = 0;
			modeChoice3Element.selectedIndex = 0;
			document.querySelector('#template-container').removeAttribute('hidden');
		};
	</script>
</body>

</html>