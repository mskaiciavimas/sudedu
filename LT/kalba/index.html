<!DOCTYPE html>
<html>

<head>
	<title>sudEdu - Lietuvių Kalba</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="sudEdu - kalba skirtas priešmokyklinio ugdymo, pradinių bei aukštesnių klasių mokinių teksto suvokimo ir rašybos įgūdžių tobulinimui.">
	<meta name="keywords" content="rašyba, gramatika, rašinelis, teksto suvokimas, teksto komponavimas, tekso strūktura, teksto struktūros išdestymas, atnaujinta pradinio ugdymo programa, pastraipos konstravimas">

	  <link rel="canonical" href="https://www.sudedu.lt/LT/">
	  <link rel="alternate" href="https://www.sudedu.lt/LT/" hreflang="lt">
	  <link rel="alternate" href="https://www.sudedu.lt/EN/" hreflang="en">
	<link rel="icon" href="../../images/favicon.ico" type="image/x-icon">
	<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Andika:wght@400;700&family=Josefin+Sans&display=swap"
		rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="../../index.css">
	<link rel="stylesheet"
	href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
	<link rel="stylesheet" type="text/css" href="../../index.css">
<style>
	.center-row-language {
		margin-bottom: 15vh;
	}

	.mode-choice-label {
		padding-bottom: 2.5vh;
	}

	.submit-button-div {
		padding-top: 2.5vh;
	}

	.stop-reset-button-div {
		padding-top: 4vh;
	}

	.center-row-language {
		margin-bottom: 0;
	}
</style>
</head>

<body>
	<div class="container" id="template-container"
		style="display: flex; flex-direction: column; justify-content: space-between;" hidden>
		<div class="position-absolute image-container kid-5 bottom-0 end-0"
			style="top: 50%; left: 15%; width: 250px; height: 250px;"> <img src="../../images/kid-5-language.png"
				style="width: 100%; height: 100%;" class="img-fluid"> </div>
		<div class="position-absolute image-container kid-6 bottom-0 end-0"
			style="top: 35%; left: 67%; width: 250px; height: 250px;"> <img src="../../images/kid-6-language.png"
				style="width: 250px; height: auto;" class="img-fluid"> </div>
		<div id="language-about-row" class="row d-flex align-items-start">
				<div class="col-6" id="language-switcher" onmousedown="return false;" onselectstart="return false;" style="-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;">
					<span class="language-option language-option-EN" onclick="setLanguage('EN')">EN</span>
					<span class="language-option language-option-LT selected" onclick="setLanguage('LT')">LT</span>
			</div>
			<div class="col-6 d-flex justify-content-end align-items-end about-button-div">
				<a href="../apie" class="about-button">APIE sudEdu</a>
			</div>
		</div>
			<div class="col-12 d-flex justify-content-center align-items-center text-center">
				<h1>Teksto Supratimas ir Rašyba</h1>
			</div>
		<div class="row d-flex align-items-center justify-content-center text-center center-row-language">
			<div class="col-12 d-flex justify-content-center align-items-center middle-div">
				<div class="row" id="middle-div-row">
					<div class="d-flex flex-column align-items-center">
						<label class="mode-choice-label" for="mode_choice">PRAKTIKUOTIS</label>
						<div class="row">
							<div class="col-sm-12 empty-placeholder-between-options" id="empty-placeholder-top"></div>
						</div>
						<div class="row d-flex justify-content-center align-items-center text-center mode_choice_div">
							<select class="btn btn-secondary dropdown-toggle dropdown dropdown-options" name="mode_choice"
								id="mode_choice">
								<option value="tekstas">TEKSTO SUPRATIMĄ</option>
								<option value="rasyba">RAŠYBĄ</option>
							</select>
						</div>
						<div class="row">
							<div class="col-sm-12 empty-placeholder-between-options" id="empty-placeholder-top"></div>
						</div>
						<div class="row d-flex justify-content-center align-items-center text-center mode_choice_2_div">
							<div class="col-12 d-flex justify-content-center align-items-center mode_choice_2_div text-center"
								id="mode_choice_2_div">
								<select class="btn btn-secondary dropdown-toggle dropdown dropdown-options" name="mode_choice_2"
									id="mode_choice_2">
									<option value="komponavimas">TURINIO KOMPONAVIMĄ</option>
									<option value="isdestymas">STRUKTŪROS IŠDĖSTYMĄ</option>
								</select>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 empty-placeholder-between-options" id="empty-placeholder-top"></div>
						</div>
						<div class="row d-flex justify-content-center align-items-center text-center mode_choice_3_div">
							<div class="col-12 d-flex justify-content-center align-items-center mode_choice_3_div text-center"
								id="mode_choice_3_div">
								<select class="btn btn-secondary dropdown-toggle dropdown dropdown-options" name="mode_choice_3"
									id="mode_choice_3">
									<option value="slenkstinis">SLENKSTINIS</option>
									<option value="lengvas">LENGVAS</option>
									<option value="vidutinis">VIDUTINIS</option>
									<option value="sunkus">SUNKUS</option>
								</select>
							</div>
						</div>

						<div class="row d-flex justify-content-center align-items-center text-center mode_choice_8_div">
							<div class="col-12 justify-content-start align-items-center mode_choice_8_div text-center"
								id="mode_choice_8_div" style="display: none;">
								<label class="rasyba-options-label">
									<input type="checkbox" class="r" name="r" value='GALŪNĖS' checked><span class="rasyba-options-label-text">GALŪNĖ:</span>
								</label>
								<br>
									<div id="galuniu-div">
									<label class="rasyba-options-label">
										<input type="checkbox" class="rasyba-options" name="rasyba-option" value='{"dkt": []}' checked><span class="rasyba-options-label-text">DAIKTAVARDIS</span>
									</label><br>
									<label class="rasyba-options-label">
										<input type="checkbox" class="rasyba-options" name="rasyba-option" value='{"bdv": [], "prv": []}' checked><span class="rasyba-options-label-text"></span>BŪDVARDIS + PRIEVEIKSMIS</span>
									</label><br>
									<label class="rasyba-options-label">
										<input type="checkbox" class="rasyba-options" name="rasyba-option" value='{"vks": []}' checked><span class="rasyba-options-label-text"></span>VEIKSMAŽODIS</span>
									</label><br>
								</div>
									<label class="rasyba-options-label">
										<input id="įsi-r" type="checkbox" class="rasyba-options" name="rasyba-option" value='{"įsi-r": []}' checked><span class="rasyba-options-label-text"></span>ĮSIDĖMĖTINA RAŠYBA:</span>
									</label><br>

									<div id="is-ras-subsection" style="display: block;">
											
											<label class="rasyba-options-label">
												<input type="radio" class="rasyba-options" name="klase" value='{"įsi-r": ["2kl"]}'>
												<span class="rasyba-options-label-text">1-2 KLASĖ</span>
											</label><br>
											
											<label class="rasyba-options-label">
												<input type="radio" class="rasyba-options" name="klase" value='{"įsi-r": ["4kl"]}' checked>
												<span class="rasyba-options-label-text">3-4 KLASĖ</span>
											</label><br>

									</div>



									<label class="rasyba-options-label">
										<input type="checkbox" class="rasyba-options" name="rasyba-option" value='{"asim": []}' checked><span class="rasyba-options-label-text"></span>PRIEBALSIŲ SUPANAŠĖJIMAS</span>
									</label><br>
									<label class="rasyba-options-label">
										<input type="checkbox" class="rasyba-options" name="rasyba-option" value='{"md": []}' checked><span class="rasyba-options-label-text"></span>MIŠRUSIS DVIGARSIS</span>
									</label><br>
									<label class="rasyba-options-label">
										<input type="checkbox" class="rasyba-options" name="rasyba-option" value='{"prš": []}' checked><span class="rasyba-options-label-text"></span>PRIEŠDĖLIS</span>
									</label><br>
									<label class="rasyba-options-label">
										<input type="checkbox" class="rasyba-options" name="rasyba-option" value='{"prs": []}' checked><span class="rasyba-options-label-text"></span>PRIESAGOS + ŠAKNIES BALSĖ</span>
									</label><br>

							</div>
						</div>
					
						<div class="row">
							<div class="col-sm-12 empty-placeholder-before-submit"></div>
						</div>
						<div class="row">
							<div class="col-12 d-flex justify-content-center align-items-center submit-button-div">
								<button class="btn btn-primary submit-button">Pirmyn!</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			</div>
		<div class="row d-flex stop-reset-button-div">
			<div class="col-6 d-flex justify-content-start align-items-center summary-button-div" style="display: inline-block; visibility: hidden;">
				<button class="btn btn-primary summary-button">Da&#x17E;niausios klaidos</button>
			</div>
		<div class="col-6 d-flex justify-content-end align-items-center">
			<div class="reset-button-div">
				<button class="btn btn-primary reset-button"><span class="material-symbols-rounded">roofing</span></button>
		</div>
	</div>
</div>
</div>
		
	</div>
	

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="../../mental-arithmetic.js"></script>
	<script src="../../mental-arithmetic-combinations.js"></script>

	<script>

		let modeChoiceLtElement = document.querySelector('#mode_choice');
		let modeChoiceLt2Element = document.querySelector('#mode_choice_2');
		let modeChoiceLt3Element = document.querySelector('#mode_choice_3');
		let modeChoiceLt8DivElement = document.querySelector('#mode_choice_8_div');
	

			function handleModeChoiceChange() {
				let modeChoiceLtSelection = modeChoiceLtElement.value;
				let modeChoiceLt2Selection = modeChoiceLt2Element.value;
				modeChoiceLt2Element.innerHTML = "";

				function toggleVisibility(element, isVisible) {
				if (isVisible) {
					element.style.display = 'block';
				} else {
					element.style.display = 'none';
				}
			}

			if (modeChoiceLtSelection === "rasyba") {
				toggleVisibility(modeChoiceLt3Element, false);
				modeChoiceLt2Element.innerHTML += '<option value="5">5 SAKINIAI EKRANE</option>';
				modeChoiceLt2Element.innerHTML += '<option value="4">4 SAKINIAI EKRANE</option>';
				modeChoiceLt2Element.innerHTML += '<option value="3">3 SAKINIAI EKRANE</option>';
				modeChoiceLt2Element.innerHTML += '<option value="2">2 SAKINIAI EKRANE</option>';
				modeChoiceLt2Element.innerHTML += '<option value="1">1 SAKINYS EKRANE</option>';
				toggleVisibility(modeChoiceLt8DivElement, true);
			} else if (modeChoiceLtSelection === "tekstas") {
				toggleVisibility(modeChoiceLt3Element, true);
				toggleVisibility(modeChoiceLt8DivElement, false);
				modeChoiceLt2Element.innerHTML += '<option value="komponavimas">TURINIO KOMPONAVIMĄ</option>';
				modeChoiceLt2Element.innerHTML += '<option value="isdestymas">STRUKTŪROS IŠDĖSTYMĄ</option>';

			}
			}

		function updateModeChoice2() {
			let modeChoiceLtSelection = modeChoiceLtElement.value;
			let modeChoiceLt2Selection = modeChoiceLt2Element.value;
		}

		modeChoiceLtElement.addEventListener('change', handleModeChoiceChange);

		document.getElementById('įsi-r').addEventListener('change', function() {
    var subsection = document.getElementById('is-ras-subsection');
    if (this.checked) {
      subsection.style.display = 'block'; // Show subsection if checkbox is checked
    } else {
      subsection.style.display = 'none'; // Hide subsection if checkbox is unchecked
    }
  });


		function submitSelection() {
			const modeChoiceValue = document.querySelector('#mode_choice').value;
			const rasybaOptions = document.querySelectorAll('[name="rasyba-option"]');
			let anyChecked = false;
			rasybaOptions.forEach(option => {
            if (option.checked) {
                anyChecked = true;
            }
        });


			if ((modeChoiceValue === "rasyba" && anyChecked) || modeChoiceValue !== "rasyba") {

			
			if (localStorage.getItem('controller') !== null) {
				controller = JSON.parse(localStorage.getItem('controller'))
			}
			modeChoiceLtSelection = modeChoiceLtElement.value;
			modeChoiceLt2Selection = modeChoiceLt2Element.value;

			controller.modeChoice = modeChoiceLtSelection;
			controller.modeChoice2 = modeChoiceLt2Selection;
			controller.modeChoice3 = getSelectedRasybaConditions();
			controller.result = ['', '', '', '', '']
			controller.modeChoiceLtDifficulty = document.getElementById('mode_choice_3').value;

			if (controller.modeChoice === "tekstas") {
				controller.mode = "text-comprehension"
				console.log(controller.mode)
				localStorage.setItem('controller', JSON.stringify(controller))
        if (controller.modeChoice2 = 'komponavimas') {
          window.location.href = "./komponavimas";
        } else if (controller.modeChoice2 === 'isdestymas') {
          window.location.href = "./isdestymas";
        }
      } else if (controller.modeChoice === "rasyba") {
				controller.mode = "grammar"
				localStorage.setItem('controller', JSON.stringify(controller))
				window.location.href = "./rasyba";
			}
		}
	}

		function getSelectedRasybaConditions() {
  const conditions = {};

  // Get all checked checkboxes for the "rasyba-option"
  const checkboxes = document.querySelectorAll('.rasyba-options:checked');

  // Iterate over each checkbox and add its value to the conditions object
  checkboxes.forEach(checkbox => {
    const name = checkbox.name;
    const value = JSON.parse(checkbox.value);

    // Merge the values into the dictionary entry (or create a new entry if it doesn't exist)
    Object.keys(value).forEach(key => {
      if (!conditions[key]) {
        conditions[key] = [];
      }
      conditions[key] = conditions[key].concat(value[key]);
    });
  });

  // Check if "ĮSIDĖMĖTINA RAŠYBA" checkbox is checked
  const isIsidmetinaChecked = document.getElementById('įsi-r').checked;

  // If it's checked, get the selected radio button for klase
  if (isIsidmetinaChecked) {
    const selectedKlase = document.querySelector('input[name="klase"]:checked');
    if (selectedKlase) {
      const klaseValue = JSON.parse(selectedKlase.value);

      // Ensure that there are no duplicates in the "įsi-r" key by using a Set
      if (!conditions['įsi-r']) {
        conditions['įsi-r'] = [];
      }
      // Add only unique values to the "įsi-r" key
      conditions['įsi-r'] = [...new Set(conditions['įsi-r'].concat(klaseValue['įsi-r']))];
    }
  } else {
    // If the "ĮSIDĖMĖTINA RAŠYBA" checkbox is not checked, remove the "įsi-r" key
    delete conditions['įsi-r'];
  }

  // Log the conditions object in the desired format
  return conditions;
}

document.addEventListener('DOMContentLoaded', function() {
  // Get the "GALŪNĖS" checkbox and the "galuniu-div" element
  const galunesCheckbox = document.querySelector('input[value="GALŪNĖS"]');
  const galuniuDiv = document.getElementById('galuniu-div'); // Ensure the div has this ID

  // Function to sync the specific checkboxes related to "GALŪNĖS"
  const syncRelatedCheckboxes = (isChecked) => {
    const relatedCheckboxes = document.querySelectorAll('input[value=\'{"dkt": []}\'], input[value=\'{"bdv": [], "prv": []}\'], input[value=\'{"vks": []}\']');

    // Loop through each related checkbox and update its checked status
    relatedCheckboxes.forEach(checkbox => {
      checkbox.checked = isChecked;
    });
  };

  // Function to show/hide the "galuniu-div" based on the "GALŪNĖS" checkbox
  const toggleGaluniuDiv = (isChecked) => {
    if (isChecked) {
      galuniuDiv.style.display = 'block'; // Show the div
    } else {
      galuniuDiv.style.display = 'none';  // Hide the div
    }
  };

  // Initialize the visibility of the "galuniu-div" based on the initial checkbox state
  toggleGaluniuDiv(galunesCheckbox.checked);

  // Add event listener to "GALŪNĖS" checkbox
  galunesCheckbox.addEventListener('change', function() {
    syncRelatedCheckboxes(this.checked);
    toggleGaluniuDiv(this.checked); // Toggle the div visibility when the checkbox changes
  });
});




		let submitButtonElement = document.querySelector('.submit-button');
		submitButtonElement.addEventListener("click", submitSelection);


		window.onload = function () {
			document.querySelector('#template-container').removeAttribute('hidden');
		};


		window.addEventListener("pageshow", function() {
    var selects = document.querySelectorAll('select');
    selects.forEach(function(select) {
        var selectedOption = select.querySelector('[selected]');
        var selectedIndex = selectedOption ? Array.from(select.children).indexOf(selectedOption) : 0;
        select.selectedIndex = selectedIndex;
    });

    var checkbox = document.getElementById('remainder-input');
    if (checkbox) {
        checkbox.checked = false; // Deselect the checkbox
    }
});

function setLanguage(lang) {
	if (lang !== controller.language) {
  // Update the language controller and store it in localStorage
  controller.language = lang;
  localStorage.setItem('controller', JSON.stringify(controller));

  // Select all language options
  const options = document.querySelectorAll('.language-option');

  // Update the selected class for the clicked option
  options.forEach(option => {
    if (option.classList.contains(`language-option-${lang}`)) {
      option.classList.add('selected');
    } else {
      option.classList.remove('selected');
    }
  });

	window.location.href = `/${lang}`;
}
}

		if (localStorage.getItem('controller') !== null) {
			controller = JSON.parse(localStorage.getItem('controller'));
    } else {
			controller.language = 'LT';
			localStorage.setItem('controller', JSON.stringify(controller));
		}

		setLanguage(controller.language)

		const resetButtonElement = document.querySelector('.reset-button');
resetButtonElement.addEventListener("click", redirectToOuterIndex);


	</script>
</body>

</html>
